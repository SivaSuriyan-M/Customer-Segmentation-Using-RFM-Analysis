# Customer-Segmentation-Using-RFM-Analysis

## Project Overview
This project involves performing customer segmentation based on transactional data from an online retail store. The segmentation is achieved through **RFM (Recency, Frequency, and Monetary)** analysis, a technique used in marketing analytics to assess customer value and behavior.

- **Data Source**: The dataset contains transactions from an online retail company between December 2009 and December 2011.
- **Goal**: Segment customers based on their purchasing recency, frequency, and spending amount to provide valuable insights for targeted marketing strategies.

## Methodology
The project is structured into several key steps:
1. **Data Cleaning**: Handled missing values, filtered out invalid transactions, and prepared the dataset for analysis.
2. **Feature Engineering**: Created features such as total revenue per transaction and calculated key RFM metrics.
3. **RFM Analysis**: Grouped customers based on their Recency, Frequency, and Monetary values.
4. **Customer Segmentation**: Classified customers into meaningful segments using RFM scores.
5. **Visualization**: Visualized the distribution of customer segments for interpretation.

## Data Cleaning and Preparation
The dataset required cleaning to ensure accurate analysis. Key steps included:
- **Removing Missing Values**: Dropped rows with missing `Customer ID`, which is essential for identifying unique customers.
- **Filtering Transactions**: Filtered out transactions with negative quantities or prices, which represent returns or errors.

```python
# Remove rows where 'Customer ID' is missing
cleaned_data = data.dropna(subset=['Customer ID'])

# Ensure there are no negative or zero values for Quantity and Price
cleaned_data = cleaned_data[(cleaned_data['Quantity'] > 0) & (cleaned_data['Price'] > 0)]
```

## Feature Engineering
A new feature, `TotalRevenue`, was added to capture the total transaction value for each purchase.

```python
# Add 'TotalRevenue' column
cleaned_data['TotalRevenue'] = cleaned_data['Quantity'] * cleaned_data['Price']
```

## RFM Analysis
RFM Analysis is based on three key metrics:
- **Recency**: How recently a customer made their last purchase.
- **Frequency**: How often the customer makes purchases.
- **Monetary**: The total revenue generated by the customer.

```python
# Group by Customer ID and calculate Recency, Frequency, and Monetary
rfm_table = cleaned_data.groupby('Customer ID').agg({
    'InvoiceDate': lambda x: (reference_date - x.max()).days,  # Recency
    'Invoice': 'nunique',  # Frequency
    'TotalRevenue': 'sum'   # Monetary
}).reset_index()

# Rename columns to 'Recency', 'Frequency', 'Monetary'
rfm_table.columns = ['CustomerID', 'Recency', 'Frequency', 'Monetary']
```

## Customer Segmentation
RFM quartiles were created for each metric, allowing segmentation of customers into categories based on their behavior.

```python
# Create quartiles for Recency, Frequency, and Monetary
rfm_table['R_Quartile'] = pd.qcut(rfm_table['Recency'], 4, labels=[4, 3, 2, 1])
rfm_table['F_Quartile'] = pd.qcut(rfm_table['Frequency'], 4, labels=[1, 2, 3, 4])
rfm_table['M_Quartile'] = pd.qcut(rfm_table['Monetary'], 4, labels=[1, 2, 3, 4])

# Combine R, F, and M quartiles into a single RFM score
rfm_table['RFM_Score'] = rfm_table['R_Quartile'].astype(str) + rfm_table['F_Quartile'].astype(str) + rfm_table['M_Quartile'].astype(str)
```

## Visualization
The distribution of RFM scores can be visualized to understand the spread of customers across different segments, which is useful for identifying groups that need attention.

```python
import seaborn as sns
import matplotlib.pyplot as plt

# Distribution of RFM Score
plt.figure(figsize=(10,6))
sns.countplot(x='RFM_Score', data=rfm_table)
plt.title('Distribution of RFM Scores')
plt.show()
```

## Conclusion
RFM analysis allows us to:
- Identify **high-value customers** who are frequent, recent, and high spenders.
- Discover **at-risk customers** who used to spend a lot but havenâ€™t made a recent purchase.
- Target **potential loyalists** who buy frequently but haven't yet spent large amounts.

This segmentation helps businesses create targeted marketing strategies, boost customer retention, and increase revenue.

## Future Enhancements
- **Automated Reporting**: Build dashboards for dynamic RFM segmentation insights.
- **Clustering**: Use techniques like K-Means clustering to further refine customer segments.
- **Predictive Analytics**: Apply machine learning models to predict customer lifetime value based on RFM scores.

--- 
